---
import Logo from '@assets/images/logo.svg';
import NieTaText from '@assets/text/nieta.svg';
import TopRightLine from '@assets/images/line.svg';
import Assistant from '@assets/images/assistant.png';
import TextContent from '@assets/text/text.svg';
import NieTaBottomText from '@assets/text/bottom-nieta.svg';
import JoinCommunityButton from './JoinCommunityButton.astro';
import StartNieTaButton from './StartNieTaButton.astro';
import BottomRightLine from '@assets/images/line5.svg';
import BottomLeftLine from '@assets/images/line6.svg';
import { Image } from 'astro:assets';
---

<header
  class="relative"
  style="background: linear-gradient(156deg, #151a31 0%, #191e37 14.73%, #12172c 35.15%, #0d1317 76.29%);"
  id="nieta-header"
>
  {/* logo */}
  <div class="flex items-center absolute" id="logo">
    <Image src={Logo} alt="Logo" decoding="async" loading="lazy" />
    <Image src={NieTaText} alt="NieTa" decoding="async" loading="lazy" />
  </div>

  {/* lines */}
  <div class="absolute" id="line-1-top-right">
    <Image src={TopRightLine} alt="Line" decoding="async" loading="lazy" />
  </div>

  {/* assistant */}
  <div class="absolute" id="assistant">
    <Image src={Assistant} decoding="async" loading="lazy" alt="assistant" />
  </div>

  {/* text content */}
  <div class="absolute" id="text">
    <Image src={TextContent} alt="text" decoding="async" loading="lazy" />
  </div>

  {/* two buttons */}
  <div class="flex absolute" id="buttons">
    <JoinCommunityButton />
    <StartNieTaButton />
  </div>

  {/* nieta text */}
  <div class="absolute" id="bottom-nieta">
    <Image src={NieTaBottomText} alt="NieTaBottomText" decoding="async" loading="lazy" class="bottom-nieta" />
  </div>

  <!-- lines -->
  <div class="absolute" id="line-1-bottom-right">
    <Image src={BottomRightLine} alt="bottomaddline" class="bottomaddline" />
  </div>

  <div class="absolute" id="line-1-bottom-left">
    <Image src={BottomLeftLine} alt="BottomLeftLine" />
  </div>
</header>

<style>
  /* 线条从右向左渐变出现 */

  #line-1-top-right,
  #line-1-bottom-right,
  #text,
  #buttons {
    animation: slideInLeft 0.5s ease-in-out;
  }

  /* logo直接出现 */
  #logo {
    animation: fadeIn 0.5s ease-in-out;
  }

  /* assistant以百叶窗方式出现 */
  #assistant {
    animation: blindsIn 0.5s ease-in-out;
  }

  @keyframes slideInLeft {
    0% {
      transform: translateX(100%);
      opacity: 0;
    }
    100% {
      transform: translateX(0);
      opacity: 1;
    }
  }

  @keyframes fadeIn {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }

  @keyframes blindsIn {
    0% {
      height: 0;
      opacity: 0;
    }
    50% {
      height: 100%;
      opacity: 0.5;
    }
    100% {
      height: 100%;
      opacity: 1;
    }
  }
</style>

<script>
  import joinCommunityActive from '@assets/button/join-community-active.svg';
  import JoinCommunityNormal from '@assets/button/join-community.svg';
  import startNietaActive from '@assets/button/start-nieta-active.svg';
  import startNietaNormal from '@assets/button/start-nieta.svg';
  const startNietTa = document.querySelector('#StartNieTa') as HTMLImageElement;
  const joinCommunity = document.querySelector('#JoinCommunity') as HTMLImageElement;
  joinCommunity?.addEventListener('mouseenter', () => {
    joinCommunity.src = joinCommunityActive.src;
  });

  joinCommunity?.addEventListener('mouseleave', () => {
    joinCommunity.src = JoinCommunityNormal.src;
  });

  startNietTa?.addEventListener('mouseenter', () => {
    startNietTa.src = startNietaActive.src;
  });

  startNietTa?.addEventListener('mouseleave', () => {
    startNietTa.src = startNietaNormal.src;
  });
</script>
